# --
# AgentZoomHead.dtl - provides HTML AgentZoom for AgentZoom.pm
# Copyright (C) 2001-2004 Martin Edenhofer <martin+code@otrs.org>
#               2002 Stefan Wintermeyer <stefan@otrs.org>
# --
# $Id: AgentZoomHead.dtl,v 1.10 2004-09-11 07:59:07 martin Exp $
# --
# This software comes with ABSOLUTELY NO WARRANTY. For details, see
# the enclosed file COPYING for license information (GPL). If you
# did not receive this file, see http://www.gnu.org/licenses/gpl.txt.
# --
<!-- start ticket head $Data{"TicketNumber"} -->
<table border="0" width="100%" cellspacing="0" cellpadding="3" cols="2">
<tr>
  <td align="left" width="50%" class="table0">
    <b>$Env{"Box0"}$Text{"Zoom"} $Config{"TicketHook"}: $Data{"TicketNumber"}$Env{"Box1"}</b>
  </td>
  <td align="right" width="50%" class="table0">
    <b>$Env{"Box0"}$Text{"Age"}: $Data{"Age"}$Env{"Box1"}</b>
  </td>
</tr>
</table>
<table border="0" width="100%" cellspacing="0" cellpadding="3" cols="2">
<tr>
  <td align="left" width="70%" class="table2">
# --
# check lock link
# --
# should we show the back link
<dtl if ($Env{"LastScreenQueue"} ne "") { $Data{"Back"} = "<a href="$Env{"Baselink"}$Env{"LastScreenQueue"}" onmouseover="window.status='$Text{"Back"}'; return true;" onmouseout="window.status='';" class="menuitem" title="$Text{"Back"}">$Text{"Back"}</a> - "; }>
$Data{"Back"}
<dtl set $Data{"LockText"} = "Lock">
<dtl if ($Data{"Lock"} eq "lock") { $Data{"LockText"} = "Unlock"; }>
<dtl set $Data{"LockLink"} = "Action=AgentLock&Subaction=Unlock&TicketID=$Data{"TicketID"}">
<dtl if ($Data{"Lock"} eq "unlock") { $Data{"LockLink"} = "Action=AgentLock&Subaction=Lock&TicketID=$Data{"TicketID"}"; }>
  <a href="$Env{"Baselink"}$Data{"LockLink"}" onmouseover="window.status='$Text{"$Data{"LockText"}"}'; return true;" onmouseout="window.status='';" class="menuitem" title="$Text{"Lock it to work on it!"}">$Text{"$Data{"LockText"}"}</a>
# should we show the priority action
<dtl if ($Data{"AgentPriority"} ne "0") { $Data{"AgentPriorityStrg"} = " - <a href="$Env{"Baselink"}Action=AgentPriority&TicketID=$Data{"TicketID"}" onmouseover="window.status='$Text{"Priority"}'; return true;" onmouseout="window.status='';" class="menuitem" title="$Text{"Change the ticket priority!"}">$Text{"Priority"}</a>"; }>
$Data{"AgentPriorityStrg"}
# should we show the history action
<dtl if ($Data{"AgentHistory"} ne "0") { $Data{"AgentHistoryStrg"} = " - <a href="$Env{"Baselink"}Action=AgentHistory&TicketID=$Data{"TicketID"}" onmouseover="window.status='$Text{"History"}'; return true;" onmouseout="window.status='';" class="menuitem" title="$Text{"Shows the ticket history!"}">$Text{"History"}</a>"; }>
$Data{"AgentHistoryStrg"}
# should we show the owner action
<dtl if ($Data{"AgentOwner"} ne "0") { $Data{"AgentOwnerStrg"} = " - <a href="$Env{"Baselink"}Action=AgentOwner&TicketID=$Data{"TicketID"}" onmouseover="window.status='$Text{"Owner"}'; return true;" onmouseout="window.status='';" class="menuitem" title="$Text{"Change the ticket owner!"}">$Text{"Owner"}</a>"; }>
$Data{"AgentOwnerStrg"}
# should we show the note action
<dtl if ($Data{"AgentNote"} ne "0") { $Data{"AgentNoteStrg"} = " - <a href="$Env{"Baselink"}Action=AgentNote&TicketID=$Data{"TicketID"}" onmouseover="window.status='$Text{"Note"}'; return true;" onmouseout="window.status='';" class="menuitem" title="$Text{"Add a note to this ticket!"}">$Text{"Note"}</a>"; }>
$Data{"AgentNoteStrg"}
# should we show the customer action
<dtl if ($Data{"AgentCustomer"} ne "0") { $Data{"AgentCustomerStrg"} = " - <a href="$Env{"Baselink"}Action=AgentCustomer&TicketID=$Data{"TicketID"}" onmouseover="window.status='$Text{"Customer"}'; return true;" onmouseout="window.status='';" class="menuitem" title="$Text{"Change the ticket customer!"}">$Text{"Customer"}</a>"; }>
$Data{"AgentCustomerStrg"}
# should we show the free text action
<dtl if ($Data{"AgentFreeText"} ne "0") { $Data{"AgentFreeTextStrg"} = " - <a href="$Env{"Baselink"}Action=AgentFreeText&TicketID=$Data{"TicketID"}" onmouseover="window.status='$Text{"Free Fields"}'; return true;" onmouseout="window.status='';" class="menuitem" title="$Text{"Change the ticket free fields!"}">$Text{"Free Fields"}</a>"; }>
$Data{"AgentFreeTextStrg"}
# should we show the ticket link action
<dtl if ($Data{"AgentTicketLink"} ne "0") { $Data{"AgentTicketLinkStrg"} = " - <a href="$Env{"Baselink"}Action=AgentLinkObject&SourceObject=Ticket&SourceID=$Data{"TicketID"}" onmouseover="window.status='$Text{"Link"}'; return true;" onmouseout="window.status='';" class="menuitem" title="$Text{"Link this ticket to an other objects!"}">$Text{"Link"}</a>"; }>
$Data{"AgentTicketLinkStrg"}
# should we show the print action
<dtl if ($Data{"AgentTicketPrint"} ne "0") { $Data{"AgentTicketPrintStrg"} = " - <a href="$Env{"Baselink"}Action=AgentTicketPrint&TicketID=$Data{"TicketID"}" onmouseover="window.status='$Text{"Print"}'; return true;" onmouseout="window.status='';" class="menuitem" target="print" title="$Text{"Print this ticket!"}">$Text{"Print"}</a>"; }>
$Data{"AgentTicketPrintStrg"}
# should we show the pending action
<dtl if ($Data{"AgentPending"} ne "0") { $Data{"AgentPendingStrg"} = " - <a href="$Env{"Baselink"}Action=AgentPending&TicketID=$Data{"TicketID"}&QueueID=$Data{"QueueID"}" onmouseover="window.status='$Text{"Pending"}'; return true;" onmouseout="window.status='';" class="menuitem" title="$Text{"Set this ticket to pending!"}">$Text{"Pending"}</a>"; }>
$Data{"AgentPendingStrg"}
# should we show the close action
<dtl if ($Data{"AgentClose"} ne "0") { $Data{"AgentCloseStrg"} = " - <a href="$Env{"Baselink"}Action=AgentClose&TicketID=$Data{"TicketID"}&QueueID=$Data{"QueueID"}" onmouseover="window.status='$Text{"Close"}'; return true;" onmouseout="window.status='';" class="menuitem" title="$Text{"Close this ticket!"}">$Text{"Close"}</a>"; }>
$Data{"AgentCloseStrg"}
  </td>
  <td align="right" valign="top" width="30%" class="table2">
    <b>$Text{"Created"}:</b> $TimeLong{"$Data{"Created"}"}
  </td>
</tr>
</table>
<!-- end ticket head -->
<table border="0" width="100%" cellspacing="0" cellpadding="3" cols="2">


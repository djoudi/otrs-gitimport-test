# --
# AgentTicketSearch.dtl - provides HTML form for AgentTicketSearch
# Copyright (C) 2001-2010 OTRS AG, http://otrs.org/
# --
# $Id: AgentTicketSearch.dtl,v 1.35 2010-07-20 12:47:36 martin Exp $
# --
# This software comes with ABSOLUTELY NO WARRANTY. For details, see
# the enclosed file COPYING for license information (AGPL). If you
# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.
# --

<!-- dtl:block:SearchAJAX -->
<div class="InnerContent">
    <form action="$Env{"CGIHandle"}" method="post" id="SearchForm">
        <input type="hidden" name="Action" value="$Env{"Action"}"/>
        <input type="hidden" name="Subaction" value="Search"/>
        <h2 class="Center">$Text{"Search"}</h2>
        <fieldset class="TableLike">
            <div class="Clear"></div>
            <label>$Text{"Search-Template"}</label>
            <div class="Field">
                $Data{"ProfilesStrg"}
                <a id="SearchProfileNew">$Text{"Create New"}</a>
                <a id="SearchProfileDelete">$Text{"Delete"}</a>
                <div id="SearchProfileAddBlock">
                    <input type="text" name="Name" id="SearchProfileAddName"/>
                    <button type="submit" title="$Text{"Create Template"}" id="SearchProfileAddAction">$Text{"Create New Template"}</button>
                    <input type="hidden" name="SaveProfile" value="1"/>
                </div>
            </div>
        </fieldset>
        <fieldset class="TableLike" id="SearchInsert"></fieldset>
        <fieldset class="TableLike">
            <div class="Clear"></div>
            <label>$Text{"Add another attribute"}</label>
            <div class="Field">
                $Data{"AttributesStrg"}
                <button type="submit" class="Add" value="Add" title="Add entry">$Text{"Add"}</button>
            </div>
            <div class="Clear"></div>
            <label>$Text{"Result Form"}:</label>
            <div class="Field">
                $Data{"ResultFormStrg"}
            </div>
        </fieldset>
    </form>


    <fieldset class="TableLike Hidden" id="SerachAttributesHidden">
        <div class="Clear"></div>
        <label for="Fulltext">$Text{"Fulltext"}</label>
        <div class="Field">
            <input type="text" name="Fulltext" value="$QData{"Fulltext"}" class="W50pc" />
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="TicketNumber">$Config{"Ticket::Hook"} $Text{"(e. g. 10*5155 or 105658*)"}</label>
        <div class="Field">
            <input type="text" name="TicketNumber" value="$QData{"TicketNumber"}" class="W50pc"/>
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="Title">$Text{"Title"}</label>
        <div class="Field">
            <input type="text" name="Title" value="$QData{"Title"}" class="W50pc"/>
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="CustomerID">$Text{"CustomerID"} $Text{"(e. g. 234321)"}</label>
        <div class="Field">
            <input type="text" name="CustomerID" value="$QData{"CustomerID"}" class="W50pc"/>
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="CustomerUserLogin">$Text{"Customer User Login"} $Text{"(e. g. U5150)"}</label>
        <div class="Field">
            <input type="text" name="CustomerUserLogin" value="$QData{"CustomerUserLogin"}" class="W50pc"/>
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="TypeIDs">$Text{"Type"}</label>
        <div class="Field">
            $Data{"TypesStrg"}
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="From">$Text{"From"}</label>
        <div class="Field">
            <input type="text" name="From" value="$QData{"From"}" class="W50pc"/>
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="To">$Text{"To"}</label>
        <div class="Field">
            <input type="text" name="To" value="$QData{"To"}" class="W50pc"/>
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="Cc">$Text{"Cc"}</label>
        <div class="Field">
            <input type="text" name="Cc" value="$QData{"Cc"}" class="W50pc"/>
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="Subject">$Text{"Subject"}</label>
        <div class="Field">
            <input type="text" name="Subject" value="$QData{"Subject"}" class="W50pc"/>
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="Body">$Text{"Text"}</label>
        <div class="Field">
            <input type="text" name="Body" value="$QData{"Body"}" class="W50pc"/>
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="TicketFreeKeyField">$Data{"TicketFreeKeyField"}</label>
        <div class="Field">
            $Data{"TicketFreeTextField"}
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="TicketFreeTimeKey">$Text{"$Data{"TicketFreeTimeKey"}"}</label>
        <div class="Field">
            <input type="checkbox" name="TicketFreeTime$QData{"Count"}" value="checked" $QData{"TicketFreeTime"}/>
            $Text{"Between"} $Data{"TicketFreeTimeStart"} $Text{"and"} $Data{"TicketFreeTimeStop"}.
        </div>
        <div class="Clear"></div>
        <label for="ServiceIDs">$Text{"Service"}</label>
        <div class="Field">
            $Data{"ServicesStrg"}
        </div>
        <div class="Clear"></div>
        <label for="SLAIDs">$Text{"SLA"}</label>
        <div class="Field">
            $Data{"SLAsStrg"}
        </div>
        <div class="Clear"></div>
        <label for="PriorityIDs">$Text{"Priority"}</label>
        <div class="Field">
            $Data{"PrioritiesStrg"}
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="StateIDs">$Text{"State"}</label>
        <div class="Field">
            $Data{"StatesStrg"}
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="QueueIDs">$Text{"Queue"}</label>
        <div class="Field">
            $Data{"QueuesStrg"}
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="OwnerIDs">$Text{"Agent"}/$Text{"Owner"}</label>
        <div class="Field">
            $Data{"UserStrg"}
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <label for="ResponsibleIDs">$Text{"Agent"}/$Text{"Responsible"}</label>
        <div class="Field">
            $Data{"UserStrg"}
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="CreatedQueueIDs">$Text{"Created in Queue"}</label>
        <div class="Field">
            $Data{"CreatedQueuesStrg"}
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="CreatedUserIDs">$Text{"Created by"} $Text{"Agent"}/$Text{"Owner"}</label>
        <div class="Field">
            $Data{"CreatedUserStrg"}
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="LockIDs">$Text{"Lock state"}</label>
        <div class="Field">
            $Data{"LocksStrg"}
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="WatchUserIDs">$Text{"Watcher"}</label>
        <div class="Field">
            $Data{"SelectStrg"}
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="ArticleCreateTime">$Text{"Article Create Times"}</label>
        <div class="Field">
            <input type="radio" name="ArticleTimeSearchType" value="" $Data{"ArticleTimeSearchType::None"}/>
            $Text{"No create time settings."}
            <input type="radio" name="ArticleTimeSearchType" value="TimePoint" $Data{"ArticleTimeSearchType::TimePoint"}/>
            $Text{"Article created"} $Data{"ArticleCreateTimePointStart"} $Data{"ArticleCreateTimePoint"} $Data{"ArticleCreateTimePointFormat"}
            <input type="radio" name="ArticleTimeSearchType" value="TimeSlot" $Data{"ArticleTimeSearchType::TimeSlot"}/>
            $Text{"Article created between"} $Data{"ArticleCreateTimeStart"} $Text{"and"} $Data{"ArticleCreateTimeStop"}


            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="TicketCreateTimePoint">$Text{"Ticket Create Times (from moment)"}</label>
        <div class="Field">
            <input type="radio" name="TimeSearchType" value="TimePoint" $Data{"TimeSearchType::TimePoint"}/>
            $Data{"TicketCreateTimePointStart"} $Data{"TicketCreateTimePoint"} $Data{"TicketCreateTimePointFormat"}
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="TicketCreateTimeSlot">$Text{"Ticket Create Times (between)"}</label>
        <div class="Field">
            <input type="radio" name="TimeSearchType" value="TimeSlot" $Data{"TimeSearchType::TimeSlot"}/>
            $Text{"Ticket created between"} $Data{"TicketCreateTimeStart"} $Text{"and"} $Data{"TicketCreateTimeStop"}

            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="TicketChangeTimePoint">$Text{"Ticket Change Times (from moment)"}</label>
        <div class="Field">
            <input type="hidden" name="ChangeTimeSearchType" value="TimePoint" $Data{"ChangeTimeSearchType::TimePoint"}/>
            $Data{"TicketChangeTimePointStart"} $Data{"TicketChangeTimePoint"} $Data{"TicketChangeTimePointFormat"}
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="TicketChangeTimeSlot">$Text{"Ticket Change Times (between)"}</label>
        <div class="Field">
            <input type="hidden" name="ChangeTimeSearchType" value="TimeSlot" $Data{"ChangeTimeSearchType::TimeSlot"}/>
            $Data{"TicketChangeTimeStart"} $Text{"and"} $Data{"TicketChangeTimeStop"}
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="TicketCloseTimePoint">$Text{"Ticket Close Times (from moment)"}</label>
        <div class="Field">
            <input type="radio" name="CloseTimeSearchType" value="TimePoint" $Data{"CloseTimeSearchType::TimePoint"}/>
            $Text{"Ticket closed"} $Data{"TicketCloseTimePointStart"} $Data{"TicketCloseTimePoint"} $Data{"TicketCloseTimePointFormat"}
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <label for="TicketCloseTimeSlot">$Text{"Ticket Close Times (between)"}</label>
        <div class="Field">
            <input type="radio" name="CloseTimeSearchType" value="TimeSlot" $Data{"CloseTimeSearchType::TimeSlot"}/>
            $Text{"Ticket closed between"} $Data{"TicketCloseTimeStart"} $Text{"and"} $Data{"TicketCloseTimeStop"}

            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        <label for="SearchInArchive">$Text{"Archive Search"}</label>
        <div class="Field">
            $Text{"Archive search option"} $Data{"SearchInArchiveStrg"}
            <button type="submit" class="Remove" value="Remove" title="$Text{"Remove this entry"}">$Text{"Remove"}</button>
        </div>
        <div class="Clear"></div>
        $Data{"AttributesOrigStrg"}
    </fieldset>
</div>

<div class="ContentFooter Center">
    <button id="SearchFormSubmit" class="Primary" value="Run Search">$Text{"Run Search"}</button>
</div>

<script type="text/javascript">//<![CDATA[
<!-- dtl:block:SearchAJAXShow -->
    window.setTimeout("Core.Agent.Search.ItemAdd('$QData{"Attribute"}');", 150);
    window.setTimeout("Core.Agent.Search.RebuildSelection();", 200);
<!-- dtl:block:SearchAJAXShow -->
//]]></script>

<!-- dtl:block:SearchAJAX -->
<!-- dtl:block:Search -->

<!--dtl:js_on_document_complete-->
<script type="text/javascript">//<![CDATA[
    Core.Agent.Search.OpenSearchDialog( '$Env{"Action"}' );
//]]></script>
<!--dtl:js_on_document_complete-->

<!-- dtl:block:Search -->

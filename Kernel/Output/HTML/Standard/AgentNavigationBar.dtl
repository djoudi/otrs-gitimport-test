# --
# AgentNavigationBar.dtl - provides global HTML NavigationBar
# Copyright (C) 2001-2004 Martin Edenhofer <martin+code@otrs.org>
# --
# $Id: AgentNavigationBar.dtl,v 1.39 2004-09-09 10:20:57 martin Exp $
# --
# This software comes with ABSOLUTELY NO WARRANTY. For details, see
# the enclosed file COPYING for license information (GPL). If you
# did not receive this file, see http://www.gnu.org/licenses/gpl.txt.
# --

# check if the admin link should be shown
<dtl if ($Env{"UserIsGroup[admin]"} eq "Yes") { $Data{"AdminLink"} = "<td valign="top" align="center" class="nav"><div title="$Text{"Admin-Area"}"><a href="$Env{"Baselink"}Action=Admin" onmouseover="window.status='$Text{"Admin-Area"}'; return true;" onmouseout="window.status='';" class="navitem"><img border="0" src="$Env{"Images"}admin.png" alt="$Text{"Admin-Area"}"><br>$Text{"Admin-Area"}</a></div></td>"; }>
# check if the faq link should be shown
<dtl if ($Env{"UserIsGroupRo[faq]"} eq "Yes") { $Data{"FAQLink"} = "<td valign="top" align="center" class="nav"><div title="$Text{"FAQ-Area"}"><a href="$Env{"Baselink"}Action=FAQ&Nav=Normal" onmouseover="window.status='$Text{"FAQ-Area"}'; return true;" onmouseout="window.status='';" class="navitem"><img border="0" src="$Env{"Images"}help.png" alt="$Text{"FAQ-Area"}"><br>$Text{"FAQ-Area"}</a></div></td>"; }>
# check if the stats link should be shown
<dtl if ($Env{"UserIsGroup[stats]"} eq "Yes") { $Data{"StatsLink"} = "<td valign="top" align="center" class="nav"><div title="$Text{"Stats-Area"}"><a href="$Env{"Baselink"}Action=SystemStats" onmouseover="window.status='$Text{"Stats-Area"}'; return true;" onmouseout="window.status='';" class="navitem"><img border="0" src="$Env{"Images"}stats.png" alt="$Text{"Stats-Area"}"><br>$Text{"Stats-Area"}</a></div></td>"; }>
# check if bulk feature is aktiv
<dtl if ($Config{"FrontendBulkFeature"} eq "1") { $Data{"BulkLink"} = "<td valign="top" align="center" class="nav"><div title="$Text{"Bulk Actions on Tickets"}"><a href="" onclick="BulkSubmit(); return false;" onmouseover="window.status='$Text{"Bulk Action"}'; return true;" onmouseout="window.status='';" class="navitem"><img border="0" src="$Env{"Images"}misc.png" alt="$Text{"Bulk Action"}"><br>$Text{"Bulk Action"}</a></div></td>"; }>

<!-- start NavigationBar -->
<table border="0" width="100%" cellspacing="0" cellpadding="3">
<tr>
  <td valign="top" align="left" width="70%" class="nav">
    <table cellspacing="1" cellpadding="3">
    <tr>
      <td valign="top" align="center" class="nav">
        <div title="$Text{"Logout"}"><a href="$Env{"Baselink"}Action=Logout" onmouseover="window.status='$Text{"Logout"}'; return true;" onmouseout="window.status='';" class="navitem"><img border="0" src="$Env{"Images"}exit.png" alt="$Text{"Logout"}"><br>$Text{"Logout"}</a></div>
      </td>
      <td valign="top" align="center" class="nav">
        <div title="$Text{"Overview of all open Tickets"}"><a href="$Env{"Baselink"}Action=AgentQueueView" onmouseover="window.status='$Text{"QueueView"}'; return true;" onmouseout="window.status='';" class="navitem"><img border="0" src="$Env{"Images"}queue.png" alt="$Text{"QueueView"}"><br>$Text{"QueueView"}</a></div>
      </td>

      <td valign="top" align="center" class="nav">
        <div title="$Text{"Create new Phone Ticket"}"><a href="$Env{"Baselink"}Action=AgentPhone" onmouseover="window.status='$Text{"Create new Phone Ticket"}'; return true;" onmouseout="window.status='';" class="navitem"><img border="0" src="$Env{"Images"}new.png" alt="$Text{"Create new Phone Ticket"}"><br>$Text{"Phone-Ticket"}</a></div>
      </td>
      <td valign="top" align="center" class="nav">
        <div title="$Text{"Create new Email Ticket"}"><a href="$Env{"Baselink"}Action=AgentEmail" onmouseover="window.status='$Text{"Create new Email Ticket"}'; return true;" onmouseout="window.status='';" class="navitem"><img border="0" src="$Env{"Images"}mail_new.png" alt="$Text{"Create new Email Ticket"}"><br>$Text{"Email-Ticket"}</a></div>
      </td>
      <td valign="top" align="center" class="nav">
        <div title="$Text{"Search Tickets"}"><a href="$Env{"Baselink"}Action=AgentUtilities" onmouseover="window.status='$Text{"Search"}'; return true;" onmouseout="window.status='';" class="navitem"><img border="0" src="$Env{"Images"}search.png" alt="$Text{"Search"}"><br>$Text{"Search"}</a></div>
      </td>
      <td valign="top" align="center" class="nav">
        <div title="$Text{"Agent Preferences"}"><a href="$Env{"Baselink"}Action=AgentPreferences" onmouseover="window.status='$Text{"Preferences"}'; return true;" onmouseout="window.status='';" class="navitem"><img border="0" src="$Env{"Images"}prefer.png" alt="$Text{"Preferences"}"><br>$Text{"Preferences"}</a></div>
      </td>
#      <td valign="top" align="center" class="nav">
#        <div title="$Text{"Edit Customer Users"}"><a href="$Env{"Baselink"}Action=AdminCustomerUser" onmouseover="window.status='$Text{"Customer User"}'; return true;" onmouseout="window.status='';" class="navitem"><img border="0" src="$Env{"Images"}folder_yellow.png" alt="$Text{"Customer User"}"><br>$Text{"CustomerUser"}</a></div>
#      </td>
      $Data{"BulkLink"}
      $Data{"StatsLink"}
      $Data{"FAQLink"}
      $Data{"AdminLink"}
    </tr>
    </table>
  </td>
  <td valign="top" align="right" width="30%" class="nav">
    <table>
    <tr>
      <td valign="top" align="center" class="nav">
        <a href="$Env{"Baselink"}Action=AgentMailbox&Subaction=New" onmouseover="window.status='$Text{"new message"} ($Data{"New"})'; return true;" onmouseout="window.status='';" class="navitem"><img border="0" src="$Env{"Images"}new-message.png" alt="$Text{"new message"}"><br>$Text{"new message"} ($Data{"New"})</a>
      </td>
      <td valign="top" align="center" class="nav">
        <a href="$Env{"Baselink"}Action=AgentMailbox" onmouseover="window.status='$Text{"Locked tickets"} ($Data{"All"})'; return true;" onmouseout="window.status='';" class="navitem"><img border="0" src="$Env{"Images"}personal.png" alt="$Text{"Locked tickets"}"><br>$Text{"Locked tickets"} ($Data{"All"})</a>
      </td>
    </tr>
  </table>
  </td>
</tr>
</table>

# for bulk actions
<script language="JavaScript" type="text/javascript">
<!--

var Check = 0;

function BulkChangeSelected(x,c)
{
    c = c + 7;
    if (!document.bulk.elements[c].value) {
        document.bulk.elements[c].value = x;
<dtl if ($Config{"FrontendBulkFeatureJavaScriptAlert"} eq "1") { $Data{"BulkAlert"} = "alert('$Text{"Ticket selected for bulk action!"}');"; }>
        $Data{"BulkAlert"}
#        alert(document.bulk.elements[c].value);
        Check = true;
    }
    else {
        document.bulk.elements[c].value = '';
#        alert(document.bulk.elements[c].value);
    }
}
function BulkSubmit()
{
# check if min one ticket is selected

    if (Check == 0) {
        alert('$Text{"You need min. one selected Ticket!"}');
        return false;
    }
# example
#    document.bulk.Subaction.value = 'Do';
#    document.bulk.State.value = 'closed successful';
#    document.bulk.Queue.value = 'Delete';
#    document.bulk.ArticleType.value = 'note-internal';
#    document.bulk.Subject.value = 'Some Bulk Note';
#    document.bulk.Body.value = 'Some Bulk Text';
    document.bulk.Subaction.value = '';
    document.bulk.State.value = '';
    document.bulk.Queue.value = '';
    document.bulk.ArticleType.value = '';
    document.bulk.Subject.value = '';
    document.bulk.Body.value = '';
    document.bulk.submit()
}
//-->
</script>

<form action="$Env{"CGIHandle"}" method="post" name="bulk">
  <input type="hidden" name="Action" value="AgentBulk">
  <input type="hidden" name="Subaction" value="">
  <input type="hidden" name="Queue" value="">
  <input type="hidden" name="State" value="">
  <input type="hidden" name="ArticleType" value="">
  <input type="hidden" name="Subject" value="">
  <input type="hidden" name="Body" value="">
  <input type="hidden" name="TicketID1" value="">
  <input type="hidden" name="TicketID2" value="">
  <input type="hidden" name="TicketID3" value="">
  <input type="hidden" name="TicketID4" value="">
  <input type="hidden" name="TicketID5" value="">
  <input type="hidden" name="TicketID6" value="">
  <input type="hidden" name="TicketID7" value="">
  <input type="hidden" name="TicketID8" value="">
  <input type="hidden" name="TicketID9" value="">
  <input type="hidden" name="TicketID10" value="">
  <input type="hidden" name="TicketID11" value="">
  <input type="hidden" name="TicketID12" value="">
  <input type="hidden" name="TicketID13" value="">
  <input type="hidden" name="TicketID14" value="">
  <input type="hidden" name="TicketID15" value="">
  <input type="hidden" name="TicketID16" value="">
  <input type="hidden" name="TicketID17" value="">
  <input type="hidden" name="TicketID18" value="">
  <input type="hidden" name="TicketID19" value="">
  <input type="hidden" name="TicketID20" value="">
  <input type="hidden" name="TicketID21" value="">
  <input type="hidden" name="TicketID22" value="">
  <input type="hidden" name="TicketID23" value="">
  <input type="hidden" name="TicketID24" value="">
  <input type="hidden" name="TicketID25" value="">
  <input type="hidden" name="TicketID26" value="">
  <input type="hidden" name="TicketID27" value="">
  <input type="hidden" name="TicketID28" value="">
  <input type="hidden" name="TicketID29" value="">
</form>

<!-- end NavigationBar -->

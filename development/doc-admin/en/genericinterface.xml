<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">
<!-- $Id: genericinterface.xml,v 1.2 2011-08-03 19:27:53 cr Exp $ -->

<section id="genericinterface">
    <title>Generic Interface</title>
    <para>
        The OTRS Generic Interface consist on a multiple layer framework that let OTRS communicate
        with other systems via a web service. this communication could be in two different ways:
    </para>
    <itemizedlist>
        <listitem>
            <para>
                <emphasis>OTRS as Provider: </emphasis> OTRS acts as a server listening request
                from the External System, processing the information, performing the requested
                action, and answering the request.
            </para>
        </listitem>
        <listitem>
            <para>
                <emphasis>OTRS as Requester: </emphasis> OTRS acts as a client collecting
                information, and sending the petition to the remote system and waiting for the
                response.
            </para>
        </listitem>
    </itemizedlist>

    <section id="genericinterface-layers">
        <title>Generic Interface Layers</title>
        <para>
            Generic Interface is build based on a layer model, to be flexible and easy to customize.
        </para>
        <para>
            A layer is a set files, which control how the Generic Interface performs different parts
            of a web service. Using the right configuration one can build different web services for
            different External Systems without creating new modules.
        </para>
        <note>
            <para>
                If the Remote System does not support the current shipped modules for Generic
                Interface, then special modules needs to be developed for that specific web service.
            </para>
            <para>
                The list of provided Generic Interface modules shipped with OTRS will be updated and
                increased over the time.
            </para>
        </note>
        <para>
            <screenshot>
                <screeninfo>The Generic Interface Layers</screeninfo>
                <graphic srccredit="genericinterface layers - screenshot" scale="50" fileref="screenshots/genericinterface-layers.png"></graphic>
            </screenshot>
        </para>
        <para>
            <emphasis>Figure: The graphical interface layers.</emphasis>
        </para>

        <section>
            <title>Network Transport</title>
            <para>
                This layer is responsible for the correct communication with the Remote System.
                It receives request and generates responses when acting as provider, and generates
                requests and receives responses when acting as requester.
            </para>
            <para>
                Provider communication is handled by a new web server handle called
                "nph-genericinterface.pl".
            </para>
            <para>
                Requester communication could be initiated during an event (triggered by
                a Generic Interface module or any other OTRS module) this event is catch by the
                event handler and depending on the configuration the event will be processed
                directly bye the requester object (by the web server process) or delegate it the
                Scheduler (a separated process designed to process tasks asynchronously).
            </para>
        </section>

        <section>
            <title>Data Mapping</title>
            <para>
                This layer is responsible for translating data structures between OTRS and the
                Remote System (data internal and data external layers). Normally Remote Systems has
                different data structures than OTRS (including different values and names for that
                values), and here resides the importance of the layer to change the received
                information into something that OTRS can understand and on the opposite way send
                the information to each Remote System in its natural language.
            </para>
            <para>
                <remark>Example: </remark>
                    "Priority" (OTRS) might be called "Prio" in a Remote System and could be that
                    value "1 Low" (OTRS) is "Information" on that system.
            </para>
        </section>

        <section>
        <title>Controller</title>
            <para>
                Controllers are collections of similar Operations or Invokers. For example, a
                Ticket controller might contain several standard ticket operations. Custom
                controllers can be implemented, for example a "TicketExternalCompany" controller
                which may contain similar functions like the standard Ticket controller, but with a
                different data interface, or function names (to adapt to the Remote System function
                names) or complete different code.
            </para>
            <para>
                One application for Generic Interface could be to Synchronize information with one
                Remote System that only can talk with another Remote System of the same kind. In
                this case new controllers needs to be developed and the Operations and Invokers has
                to emulate the Remote System behavior in such way that the Remote System thinks that
                is talking with one of it kind.
            </para>
        </section>

        <section>
            <title>Operation (OTRS as a provider)</title>
            <para>
                An Operation is a single action that can be performed within OTRS. All operations
                have the same programming interface, they receive the data into one specific
                parameter, and return another data structure with a success status, potential error
                message and returning data.
            </para>
            <para>
                Normally operations uses the already mapped data (internal) to call core modules and
                perform actions in OTRS like: Create a Ticket, Update a User, Invalidate a Queue,
                Send a Notification, etc. An operation has full access to the OTRS API to perform
                the action.
            </para>
        </section>

        <section>
            <title>Invoker (OTRS as a requester)</title>
            <para>
                An Invoker is an action that OTRS request to to be made on a Remote System. Invokers
                uses the OTRS Core modules to process and Collect the needed information to create
                the request, when the information is ready it has to be mapped to the Remote System
                format in order to be sent to the Remote System, that will process the information
                execute the action and send the response back, to either process the success or
                handle errors.
            </para>
        </section>
    </section>

    <section id="genericinterface_communication_flow">
        <title>Generic Interface Communication Flow</title>
        <para>
            Generic Interface has a defined flow to perform actions as a provider and as a
            requester.
        </para>
        <para>
            This flows are described below:
        </para>

        <section>
            <title>OTRS as Provider</title>
            <section>
                <title>
                    Remote Request:
                </title>
                <orderedlist>
                    <listitem>
                        <para>
                            HTTP request
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    OTRS receives HTTP request and pass it through the layers.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The provider module in in change to execute and control this
                                    actions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            Network Transport
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    The network transport module decode the data payload and
                                    separate the operation name from the rest of the data.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The operation name and the operation data are returned to the
                                    provider.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            <remark>Data External</remark>
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    Data as sent from the remote system (This is not a module based
                                    layer).
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            Mapping
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    The data is transformed form the External System format to the
                                    OTRS internal format as specified in the mapping configuration
                                    for this operation (Mapping for incoming request data).
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The already transformed data is returned to the provider.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            <remark>Data Internal</remark>
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    Data as transformed and prepared to be passed to the operation
                                    (This is not a module based layer).
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            Operation
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    Receives and validates data.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Performs user access control.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Executes the action.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                </orderedlist>
            </section>
            <section>
                <title>
                    OTRS Response:
                </title>
                <orderedlist>
                        <listitem>
                            <para>
                                Operation
                            </para>
                            <itemizedlist>
                                <listitem>
                                    <para>
                                        Returns result data to the provider.
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                    <listitem>
                        <para>
                            <remark>Data Internal</remark>
                        </para>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    Data as returned from operation.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            Mapping
                        </para>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The data is transformed back again to the Remote system format
                                    as specified in the mapping configuration (Mapping for outgoing
                                    response data).
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The already transformed data is returned to the provider.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            <remark>Data external</remark>
                        </para>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    Data as transformed and prepared to be passed to Network
                                    Transport as response.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            Network Transport
                        </para>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    Receives the data already in the Remote System format.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Constructs a valid response for this network transport type.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            HTTP response
                        </para>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The response is sent back to the web service client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    In the case of an error, an error response is sent to the remote
                                    system (e.g. SOAP fault, HTTP error, etc).
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                </orderedlist>
            </section>
        </section>

        <section>
            <title>OTRS as Requester</title>
                <section>
                    <title>OTRS Request:</title>
                    <orderedlist>
                        <listitem>
                            <para>
                                Event Trigger Handler
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        Based on the web service configuration determines if the
                                        request will be synchronous or asynchronous.
                                    </para>
                                    <itemizedlist mark="round">
                                        <listitem>
                                            <para>
                                                Synchronous
                                            </para>
                                            <itemizedlist mark="round">
                                                <listitem>
                                                    <para>
                                                        A direct call to the Requester is made to
                                                        create a new request and pass it through the
                                                        layers.
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                Asynchronous
                                            </para>
                                            <itemizedlist mark="round">
                                                <listitem>
                                                    <para>
                                                        Create a new Generic Interface (Requester)
                                                        task for the OTRS Scheduler (by delegate
                                                        the request execution to the Scheduler, the
                                                        user experience could be highly improved,
                                                        otherwise all needed times to prepare the
                                                        request and the remote execution of them
                                                        will be added to the OTRS Events that
                                                        trigger those requests).
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        In its next cycle the Scheduler process
                                                        reads this new task and creates a call to
                                                        the Requester that will create a new
                                                        request and pass it through the layers.
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </listitem>
                                    </itemizedlist>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                        <listitem>
                            <para>
                                Invoker
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        Receives data from the event.
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Validates received data (if needed).
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Call core modules to complement the data (if needed).
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Return the request data structure or send an Stop
                                        Communication signal to the requester, to gracefully cancel
                                        the request.
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                        <listitem>
                            <para>
                                <remark>Data Internal</remark>
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        Data as passed from the invoker (This is not a module based
                                        layer).
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                        <listitem>
                            <para>
                                Mapping
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        The data is transformed to the Remote system format as
                                        specified in the mapping configuration (Mapping for outgoing
                                        response data).
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        The already transformed data is returned to the requester.
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                        <listitem>
                            <para>
                                <remark>Data External</remark>
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        Data as transformed and prepared for sending to the remote
                                        system.
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                        <listitem>
                            <para>
                                Network Transport
                            </para>
                                <itemizedlist mark="round">
                                    <listitem>
                                        <para>
                                            Receives the remote operation name and the data already
                                            transformed to the Remote System format from the
                                            requester.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            Constructs a valid request for the network transport.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            Sends the request to the remote system and waits for the
                                            response
                                        </para>
                                    </listitem>
                                </itemizedlist>
                        </listitem>
                    </orderedlist>
                </section>
                <section>
                    <title>Remote Response:</title>
                    <orderedlist>
                        <listitem>
                            <para>
                                Network transport
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        Receives the response and decodes the data payload.
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Returns the data to the requester.
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                        <listitem>
                            <para>
                                <remark>Data External</remark>
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        Data as received from the Remote System
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                    <listitem>
                        <para>
                            Mapping
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    The data is transformed form the External System format to the
                                    OTRS internal format as specified in the mapping configuration
                                    for this operation (Mapping for incoming response data).
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The already transformed data is returned to the requester.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            <remark>Data Internal</remark>
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    Data as transformed and ready to be passed back to the
                                    requester.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            Invoker
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    Receives return data.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Handles the data as needed by specifically by each Invoker
                                    (included error handling if any).
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Return the Invoker result and data to the Requester.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            Event Handler or Scheduler
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    Receives the data from the Requester, in the case of the
                                    Scheduler this data might contain information to Re-Schedule
                                    the task immediately or in the future.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                </orderedlist>
            </section>
        </section>
    </section>

    <section id="genericinterface-webservice-configuration">
        <title>Web Service Configuration</title>
        <para>
            From it design the web services was conceived to be portable from one OTRS system to
            another (e.g. from a test or development environment to a production system), then it
            was needed an easy way to extract the web service configuration from the database, and
            import it to another. To accomplish this task Generic Interface implements YAML files
            as the web services configuration basis.
        </para>
        <para>
            Why YAML? YAML is a markup language designed to be human friendly to read and write (is
            easier to understand than JSON), it does not have some limitations from XML like numeric
            tags, is open, standardized, and is complete enough to store the whole web service
            configuration.
        </para>
        <note>
            <para>
                To learn more about YAML please visit
                <ulink url="http://www.yaml.org/">http://www.yaml.org/</ulink>.
            </para>
        </note>
        <para>
            The following is a web service configuration file example in YAML format:
        </para>
        <para>
            <programlisting><![CDATA[
---
Debugger:
  DebugThreshold: debug
Description: This an example of a web service configuration
Provider:
  Operation:
    CloseIncident:
      Description: This is a SolMan test operation
      MappingInbound: {}
      MappingOutbound: {}
      RemoteSystemGuid: ''
      Type: SolMan::CloseIncident
    Test:
      Description: This is a test operation
      MappingInbound:
        Config:
          KeyMapDefault:
            MapTo: ''
            MapType: Keep
          KeyMapExact:
            Prio: Priority
          ValueMap:
            Priority:
              ValueMapExact:
                Critical: 5 Very High
                Information: 1 Vely Low
                Warning: 3 Normal
          ValueMapDefault:
            MapTo: 3 Normal
            MapType: MapTo
        Type: Simple
      MappingOutbound:
        Config:
          KeyMapDefault:
            MapTo: ''
            MapType: Ignore
          KeyMapExact:
            Priority: Prio
          ValueMap:
            Prio:
              ValueMapExact:
                1 Very Low: Information
                3 Normal: Warning
                5 Very High: Critical
          ValueMapDefault:
            MapTo: ''
            MapType: Ignore
        Type: Simple
      Type: Test::Test
  Transport:
    Config:
      MaxLength: 10000000
      NameSpace: http://www.example.com/actions
    Type: HTTP::SOAP
RemoteSystem: remote.system.description.example.com
Requester:
  Invoker:
    Test:
      Description: This is a test invoker
      Events:
        - Asynchronous: 1
          Event: TicketCreate
        - Asynchronous: 0
          Event: ArticleUpdate
      MappingInbound:
        Type: Simple
      MappingOutbound:
        Type: Simple
      Type: Test::Test
  Transport:
    Config:
      Authentication:
        Password: '*******'
        Type: BasicAuth
        User: otrs
      Encoding: utf-8
      Endpoint: http://www.example.com:8080/endpoint
      NameSpace: http://www.example.com/actions
      SOAPAction: Yes
      SOAPActionSeparator: '#'
    Type: HTTP::SOAP
            ]]>
            </programlisting>
        </para>
        <section>
            <title>
                Configuration Details
            </title>
            <section>
                <title>
                    General
                </title>
                <itemizedlist mark="round">
                    <listitem>
                        <para>
                            Description: a short text that describes the web service.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            RemoteSystem: a short description of the Remote System.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            Debugger: a container for the debugger settings.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            Provider: a container for the provider settings.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            Requester: a container for the requester settings.
                        </para>
                    </listitem>
                </itemizedlist>
            </section>

            <section>
                <title>
                    Debugger
                </title>
                <itemizedlist mark="round">
                    <listitem>
                        <para>
                            DebugThreshold: the debugger level
                        </para>
                        <itemizedlist mark="round">
                            <title>
                                Possible Values
                            </title>
                            <listitem>
                                <para>
                                    debug: all logs are stored in the database.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    info: info, notice and error level logs are stored in the
                                    database.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    notice: notice and error level logs are stored in the database.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    error: only error level logs are stored in the database.
                                </para>
                            </listitem>

                        </itemizedlist>
                    </listitem>
                </itemizedlist>
            </section>

            <section>
                <title>Provider</title>
                <itemizedlist mark="round">
                    <listitem>
                        <para>
                            Operation: a container for each operation settings.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            Transport: a container for provider network transport settings.
                        </para>
                    </listitem>
                </itemizedlist>
                <section>
                    <title>Operation</title>
                    <itemizedlist mark="round">
                        <listitem>
                            <para>
                                &lt;OperationName&gt;: Unique name for the operation, container for
                                its own operation settings (cardinality 0..n, but not duplicate).
                            </para>
                        </listitem>
                    </itemizedlist>
                    <section>
                        <title>&lt;OperationName&gt;</title>
                        <para>
                            This section is based on operations from type "Test::Test" other
                            operations might contain more or different settings.
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    Description: a short text that describes the operation.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    MappingInbound: a container for the mapping settings for the
                                    incoming request data.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    MappingOutbound: a container for the mapping settings for the
                                    outgoing response data.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Type: the operation backend, in Controller::Operation format.
                                </para>
                            </listitem>
                        </itemizedlist>
                        <section>
                            <title>MappingInbound</title>
                            <para>
                                This section is based on mappings from type "Simple" other mappings
                                might contain more or different settings.
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        Config: a container for this mapping settings.
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Type: the mapping backend.
                                    </para>
                                </listitem>

                            </itemizedlist>
                                <section>
                                    <title>Config</title>
                                    <itemizedlist mark="round">
                                        <listitem>
                                            <para>
                                                KeyMapDefault: a container for all non mapped keys
                                                settings.
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                ValueMapDefault: a container for all non mapped
                                                values settings.
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                KeyMapExact: a container for all exact key mappings
                                                (cardinality 0 .. 1).
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                KeyMapRegEx: a container for all regular expression
                                                key mappings (cardinality 0 .. 1).
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                ValueMap: a container for all value mappings
                                                (cardinality 0 .. 1).
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                    <section>
                                        <title>
                                            KeyMapDefault
                                        </title>
                                        <itemizedlist mark="round">
                                            <listitem>
                                                <para>
                                                    MapTo: the new value to be used (only apply if
                                                    MapType is set to MapTo).
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    MapType: the rule for the mapping.
                                                </para>
                                                <itemizedlist>
                                                    <title>Possible Values</title>
                                                    <listitem>
                                                        <para>
                                                            Keep: leave unchanged.
                                                        </para>
                                                    </listitem>
                                                    <listitem>
                                                        <para>
                                                            Ignore: drop.
                                                        </para>
                                                    </listitem>
                                                    <listitem>
                                                        <para>
                                                            MapTo: change to the MapTo value.
                                                        </para>
                                                    </listitem>
                                                </itemizedlist>
                                            </listitem>
                                        </itemizedlist>
                                    </section>
                                    <section>
                                        <title>
                                            ValueMapDefault
                                        </title>
                                        <para>
                                            Similar to KeyMapDefault.
                                        </para>
                                    </section>
                                    <section>
                                        <title>
                                            KeyMapExact
                                        </title>
                                        <itemizedlist mark="round">
                                            <listitem>
                                                <para>
                                                    &lt;oldkey&gt;: &lt;newkey&gt; (cardinality 0
                                                    .. n but not duplicate).
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                    </section>
                                    <section>
                                        <title>
                                            KeyMapRegEx
                                        </title>
                                        <itemizedlist mark="round">
                                            <listitem>
                                                <para>
                                                    &lt;oldkey(RegEx)&gt;: &lt;newkey&gt; (
                                                    cardinality 0 .. n but not duplicate).
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                    </section>
                                    <section>
                                        <title>
                                            ValueMap
                                        </title>
                                        <itemizedlist mark="round">
                                            <listitem>
                                                <para>
                                                    &lt;newkey&gt;: a container for value mappings
                                                    for this new key (cardinality depends on the
                                                    new keys from KeyMapExact and KeyMapRegEx).
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                        <section>
                                            <title>
                                                &lt;newkey&gt;
                                            </title>
                                            <itemizedlist mark="round">
                                                <listitem>
                                                    <para>
                                                        ValueMapExact: a container for all exact
                                                        value  mappings (cardinality 0 .. 1).
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ValueMapRegEx: a container for all regular
                                                        expression value  mappings (cardinality
                                                        0 .. 1).
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                            <section>
                                                <title>
                                                    valueMapExact
                                                </title>
                                                <itemizedlist mark="round">
                                                    <listitem>
                                                        <para>
                                                            &lt;oldvalue&gt;: &lt;newvalue&gt; (
                                                            cardinality 0 .. n but not duplicate).
                                                        </para>
                                                    </listitem>
                                                </itemizedlist>
                                            </section>
                                            <section>
                                                <title>
                                                    ValueMapRegEx
                                                </title>
                                                <itemizedlist mark="round">
                                                    <listitem>
                                                        <para>
                                                            &lt;oldvalue(RegEx)&gt;:
                                                            &lt;newvalue&gt; ( cardinality 0 .. n
                                                            but not duplicate).
                                                        </para>
                                                    </listitem>
                                                </itemizedlist>
                                            </section>
                                        </section>
                                    </section>
                                </section>
                        </section>
                        <section>
                            <title>MappingOutbound</title>
                            <para>
                                Same as MappingInbound.
                            </para>
                        </section>
                        <section>
                            <title>Transport</title>
                            <para>
                                This section is based on the provider network transport HTTP::SOAP,
                                other transports might contain more or different settings.
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        Contig: a container for the specific network transport
                                        configuration settings.
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Type: the provider network transport backend.
                                    </para>
                                </listitem>
                            </itemizedlist>
                            <section>
                                <title>Config</title>
                                <itemizedlist mark="round">
                                    <listitem>
                                        <para>
                                            MaxLenght: the maximum length in bytes to be read in a
                                            SOAP message by OTRS.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            NameSpace: an URI that gives a context to all
                                            operations that belongs to this web service.
                                        </para>
                                    </listitem>
                                </itemizedlist>
                            </section>
                        </section>
                    </section>
                </section>
            </section>

            <section>
                <title>Requester</title>
                <itemizedlist mark="round">
                    <listitem>
                        <para>
                            Invoker: a container for each invoker settings.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            Transport: a container for requester network transport settings.
                        </para>
                    </listitem>
                </itemizedlist>
                <section>
                    <title>Invoker</title>
                    <itemizedlist mark="round">
                        <listitem>
                            <para>
                                &lt;InvokerName&gt;: Unique name for the invoker, container for
                                its own invoker settings (cardinality 0..n, but not duplicate).
                            </para>
                        </listitem>
                    </itemizedlist>
                    <section>
                        <title>&lt;InvokerName&gt;</title>
                        <para>
                            This section is based on invokers from type "Test::Test" other
                            invokers might contain more or different settings.
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    Description: a short text that describes the invoker
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Events: a container for a unnamed list of event trigger
                                    settings.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    MappingInbound: a container for the mapping settings for the
                                    incoming response data.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    MappingOutbound: a container for the mapping settings for the
                                    outgoing request data.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Type: the invoker backend, in Controller::Invoker format.
                                </para>
                            </listitem>
                        </itemizedlist>
                        <section>
                            <title>Events</title>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        <remark>List Element</remark>: (cardinality 0 .. n)
                                    </para>
                                    <itemizedlist mark="round">
                                        <listitem>
                                            <para>
                                                Asynchronous: to set if the invoker execution will
                                                be delegated to the Scheduler
                                            </para>
                                            <itemizedlist mark="round">
                                                <title>Possible Values</title>
                                                <listitem>
                                                    <para>
                                                        0: not handled by the Scheduler.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        1: handled by the Scheduler.
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                Event: the name of the event trigger.
                                            </para>
                                            <itemizedlist>
                                                <title>Possible Values (for ticket events)</title>
                                                <listitem>
                                                    <para>
                                                        TicketCreate
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketDelete
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketTitleUpdate
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketUnlockTimeoutUpdate
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketQueueUpdate
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketTypeUpdate
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketServiceUpdate
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketSLAUpdate
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketCustomerUpdate
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketFreeTextUpdate
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketFreeTimeUpdate
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketPendingTimeUpdate
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketLockUpdate
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketArchiveFlagUpdate
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketStateUpdate
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketOwnerUpdate
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketResponsibleUpdate
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketPriorityUpdate
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        HistoryAdd
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        HistoryDelete
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketAccountTime
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketMerge
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketSubscribe
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketUnsubscribe
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketFlagSet
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketFlagDelete
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketSlaveLinkAdd
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketSlaveLinkDelete
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        TicketMasterLinkDelete
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                            <itemizedlist>
                                                <title>Possible Values (for article events)</title>
                                                <listitem>
                                                    <para>
                                                        Article Events
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ArticleCreate
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ArticleFreeTextUpdate
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ArticleUpdate
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ArticleSend
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ArticleBounce
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ArticleAgentNotification
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ArticleCustomerNotification
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ArticleAutoResponse
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ArticleFlagSet
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ArticleFlagDelete
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ArticleAgentNotification
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ArticleCustomerNotification
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </listitem>
                                    </itemizedlist>
                                </listitem>
                            </itemizedlist>
                        </section>
                        <section>
                            <title>MappingInbound</title>
                            <para>
                                Same as Operation MappingInbound
                            </para>
                        </section>
                        <section>
                            <title>MappingOutbound</title>
                            <para>
                                Same as Operation MappingInbound.
                            </para>
                        </section>
                        <section>
                            <title>Transport</title>
                            <para>
                                This section is based on the requester network transport HTTP::SOAP,
                                other transports might contain more or different settings.
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        Contig: a container for the specific network transport
                                        configuration settings.
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Type: the requester network transport backend.
                                    </para>
                                </listitem>
                            </itemizedlist>
                            <section>
                                <title>Config</title>
                                <itemizedlist mark="round">
                                    <listitem>
                                        <para>
                                            Authentication: a container for authentication settings.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            Encoding: the SOAP Message request encoding
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            Endpoint: the URI of the Remote Server web service to
                                            accept OTRS requests
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            NameSpace: an URI that gives a context to all
                                            invokers that belongs to this web service.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            SOAPAction: to send an empty or filled SOAPAction header
                                            in the SOAP Message (in "&lt;NameSpace&gt;
                                            &lt;Separator&gt; &lt;Action&gt;" format).
                                        </para>
                                        <itemizedlist mark="round">
                                            <title>Possible Values</title>
                                            <listitem>
                                                <para>
                                                    YES: to send a filled SOAPAction header.
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    No: to send an empty SOAPAction header.
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            SOAPActionSeparator: to set the &lt;Separator&gt; of a
                                            filled SOAPAction header.
                                        </para>
                                        <itemizedlist mark="round">
                                            <title>Possible Values</title>
                                            <listitem>
                                                <para>
                                                    '/': used for .net web services.
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    '#': used for all the rest web services.
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                    </listitem>
                                </itemizedlist>
                                <section>
                                    <title>Authentication</title>
                                    <itemizedlist mark="round">
                                        <listitem>
                                            <para>
                                                User: the privileged user name that has access to
                                                the remote web service.
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                Password: the password for privileged user in plain
                                                text.
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                Type: the type of authentication.
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </section>
                            </section>
                        </section>
                    </section>
                </section>
            </section>

        </section>
    </section>
</section>
<?xml version="1.0" encoding="utf-8"?>
<!--                                                                           -->
<!-- OTRS: Copyright 2001-2009, OTRS Project. This Software is under the AGPL. -->
<!--          Web: http://otrs.org/ - Lists: http://lists.otrs.org/            -->
<!--  GNU AFFERO General Public License: http://www.gnu.org/licenses/agpl.txt  -->
<!--                                                                           -->
<otrs_stats>
<Cache>1</Cache>
<Description>Monthly overview, which reports status changes per day of a selected month.</Description>
<File Encode="Base64" File="StateAction" Location="Kernel/System/Stats/Static/StateAction.pm" Permission="644">IyAtLQojIEtlcm5lbC9TeXN0ZW0vU3RhdHMvU3RhdGVBY3Rpb24ucG0gLSBzdGF0cyBtb2R1bGUKIyBDb3B5cmlnaHQgKEMpIDIwMDEtMjAwOSBPVFJTIEFHLCBodHRwOi8vb3Rycy5vcmcvCiMgLS0KIyAkSWQ6IFN0YXRlQWN0aW9uLnBtLHYgMS4yIDIwMDYvMDMvMDkgMDg6MTY6MjYgcmsgRXhwICQKIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpTeXN0ZW06OlN0YXRzOjpTdGF0aWM6OlN0YXRlQWN0aW9uOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKdXNlIERhdGU6OlBjYWxjIHF3KFRvZGF5X2FuZF9Ob3cgRGF5c19pbl9Nb250aCBEYXlfb2ZfV2VlayBEYXlfb2ZfV2Vla19BYmJyZXZpYXRpb24pOwoKdXNlIHZhcnMgcXcoJFZFUlNJT04pOwokVkVSU0lPTiA9ICckUmV2aXNpb246IDEuMiAkICc7CgpzdWIgbmV3IHsKICAgIG15ICggJFR5cGUsICVQYXJhbSApID0gQF87CgogICAgIyBhbGxvY2F0ZSBuZXcgaGFzaCBmb3Igb2JqZWN0CiAgICBteSAkU2VsZiA9IHsgJVBhcmFtIH07CiAgICBibGVzcyggJFNlbGYsICRUeXBlICk7CgogICAgIyBjaGVjayBhbGwgbmVlZGVkIG9iamVjdHMKICAgIGZvciAocXcoREJPYmplY3QgQ29uZmlnT2JqZWN0IExvZ09iamVjdCkpIHsKICAgICAgICBkaWUgIkdvdCBubyAkXyIgaWYgKCAhJFNlbGYtPnskX30gKTsKICAgIH0KCiAgICByZXR1cm4gJFNlbGY7Cn0KCnN1YiBQYXJhbSB7CiAgICBteSAkU2VsZiA9IHNoaWZ0OwoKICAgIG15IEBQYXJhbXMgPSAoKTsKCiAgICAjIGdldCBjdXJyZW50IHRpbWUKICAgIG15ICggJHMsICRtLCAkaCwgJEQsICRNLCAkWSwgJHdkLCAkeWQsICRkc3QgKSA9IGxvY2FsdGltZSggdGltZSgpICk7CiAgICAkWSA9ICRZICsgMTkwMDsKICAgICRNKys7CgogICAgIyBnZXQgb25lIG1vbnRoIGJldm9yZQogICAgaWYgKCAkTSA9PSAxICkgewogICAgICAgICRNID0gMTI7CiAgICAgICAgJFkgPSAkWSAtIDE7CiAgICB9CiAgICBlbHNlIHsKICAgICAgICAkTSA9ICRNIC0gMTsKICAgIH0KCiAgICAjIGNyZWF0ZSBwb3NzaWJsZSB0aW1lIHNlbGVjdGlvbnMKICAgIG15ICVZZWFyID0gKCk7CiAgICBmb3IgKCAkWSAtIDEwIC4uICRZICsgMSApIHsKICAgICAgICAkWWVhcnskX30gPSAkXzsKICAgIH0KICAgIG15ICVNb250aCA9ICgpOwogICAgZm9yICggMSAuLiAxMiApIHsKICAgICAgICBteSAkVG1wID0gc3ByaW50ZiggIiUwMmQiLCAkXyApOwogICAgICAgICRNb250aHskX30gPSAkVG1wOwogICAgfQoKICAgIHB1c2goCiAgICAgICAgQFBhcmFtcywKICAgICAgICB7ICAgRnJvbnRlbmQgICA9PiAnWWVhcicsCiAgICAgICAgICAgIE5hbWUgICAgICAgPT4gJ1llYXInLAogICAgICAgICAgICBNdWx0aXBsZSAgID0+IDAsCiAgICAgICAgICAgIFNpemUgICAgICAgPT4gMCwKICAgICAgICAgICAgU2VsZWN0ZWRJRCA9PiAkWSwKICAgICAgICAgICAgRGF0YSAgICAgICA9PiB7ICVZZWFyLCB9LAogICAgICAgIH0sCiAgICApOwogICAgcHVzaCgKICAgICAgICBAUGFyYW1zLAogICAgICAgIHsgICBGcm9udGVuZCAgID0+ICdNb250aCcsCiAgICAgICAgICAgIE5hbWUgICAgICAgPT4gJ01vbnRoJywKICAgICAgICAgICAgTXVsdGlwbGUgICA9PiAwLAogICAgICAgICAgICBTaXplICAgICAgID0+IDAsCiAgICAgICAgICAgIFNlbGVjdGVkSUQgPT4gJE0sCiAgICAgICAgICAgIERhdGEgICAgICAgPT4geyAlTW9udGgsIH0sCiAgICAgICAgfSwKICAgICk7CiAgICBwdXNoKAogICAgICAgIEBQYXJhbXMsCiAgICAgICAgeyAgIEZyb250ZW5kICAgPT4gJ0dyYXBoIFNpemUnLAogICAgICAgICAgICBOYW1lICAgICAgID0+ICdHcmFwaFNpemUnLAogICAgICAgICAgICBNdWx0aXBsZSAgID0+IDAsCiAgICAgICAgICAgIFNpemUgICAgICAgPT4gMCwKICAgICAgICAgICAgU2VsZWN0ZWRJRCA9PiAnNTUweDM1MCcsCiAgICAgICAgICAgIERhdGEgICAgICAgPT4gewogICAgICAgICAgICAgICAgJzU1MHgzNTAnICA9PiAnIDU1MHgzNTAnLAogICAgICAgICAgICAgICAgJzgwMHg2MDAnICA9PiAnIDgwMHg2MDAnLAogICAgICAgICAgICAgICAgJzEyMDB4ODAwJyA9PiAnMTIwMHg4MDAnLAogICAgICAgICAgICB9LAogICAgICAgIH0sCiAgICApOwogICAgcmV0dXJuIEBQYXJhbXM7Cn0KCnN1YiBSdW4gewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBteSAkVGl0bGUgPSAiJFBhcmFte1llYXJ9LSRQYXJhbXtNb250aH0iOwogICAgbXkgJFllYXIgID0gJFBhcmFte1llYXJ9OwogICAgbXkgJE1vbnRoID0gJFBhcmFte01vbnRofTsKICAgIG15ICREYXkgICA9IERheXNfaW5fTW9udGgoICRZZWFyLCAkTW9udGggKTsKCiAgICBteSAlU3RhdGVzID0gJFNlbGYtPl9HZXRIaXN0b3J5VHlwZXMoKTsKICAgIG15IEBQb3NzaWJsZVN0YXRlczsKICAgIGZvciAoIHNvcnQgeyAkU3RhdGVzeyRhfSBjbXAgJFN0YXRlc3skYn0gfSBrZXlzICVTdGF0ZXMgKSB7CiAgICAgICAgJFN0YXRlc3skX30gPX4gcy9eKC57MTh9KS4qJC8kMVwuXC5cLi87CiAgICAgICAgcHVzaCBAUG9zc2libGVTdGF0ZXMsICRTdGF0ZXN7JF99OwogICAgfQoKICAgICMgYnVpbGQgeF9sYWJsZQogICAgbXkgJERheUNvdW50ZXIgPSAwOwogICAgbXkgQERhdGE7CiAgICBteSBARGF5cyAgICAgID0gKCk7CiAgICBteSAlU3RhdGVEYXRlID0gKCk7CiAgICB3aGlsZSAoICREYXkgPj0gJERheUNvdW50ZXIgKyAxICkgewogICAgICAgICREYXlDb3VudGVyKys7CiAgICAgICAgbXkgJERvdyA9IERheV9vZl9XZWVrKCAkWWVhciwgJE1vbnRoLCAkRGF5Q291bnRlciApOwogICAgICAgICREb3cgPSBEYXlfb2ZfV2Vla19BYmJyZXZpYXRpb24oJERvdyk7CiAgICAgICAgbXkgJFRleHQgPSAkRGF5Q291bnRlcjsKICAgICAgICAkVGV4dCA9ICIkRG93ICREYXlDb3VudGVyIjsKICAgICAgICBwdXNoKCBARGF5cywgJFRleHQgKTsKICAgICAgICBteSBAUm93ID0gKCk7CiAgICAgICAgZm9yICggc29ydCB7ICRTdGF0ZXN7JGF9IGNtcCAkU3RhdGVzeyRifSB9IGtleXMgJVN0YXRlcyApIHsKICAgICAgICAgICAgbXkgJENvdW50ID0gJFNlbGYtPl9HZXREQkRhdGFQZXJEYXkoCiAgICAgICAgICAgICAgICBZZWFyICAgID0+ICRZZWFyLAogICAgICAgICAgICAgICAgTW9udGggICA9PiAkTW9udGgsCiAgICAgICAgICAgICAgICBEYXkgICAgID0+ICREYXlDb3VudGVyLAogICAgICAgICAgICAgICAgU3RhdGVJRCA9PiAkXwogICAgICAgICAgICApOwogICAgICAgICAgICBwdXNoKCBAUm93LCAkQ291bnQgKTsKCiAgICAgICAgICAgICMgICAgICAgICRTdGF0ZURhdGV7fS0+JFN0YXRlc3skX319ID0gJFN0YXRlRGF0ZXskU3RhdGVzeyRffX0rJENvdW50OwogICAgICAgICAgICAkU3RhdGVEYXRleyRUZXh0fS0+eyRffSA9ICggJFN0YXRlRGF0ZXskVGV4dH0tPnskX30gfHwgMCApICsgJENvdW50OwogICAgICAgIH0KICAgIH0KICAgIGZvciBteSAkU3RhdGVJRCAoIHNvcnQgeyAkU3RhdGVzeyRhfSBjbXAgJFN0YXRlc3skYn0gfSBrZXlzICVTdGF0ZXMgKSB7CiAgICAgICAgbXkgQFJvdyA9ICggJFN0YXRlc3skU3RhdGVJRH0gKTsKICAgICAgICBmb3IgbXkgJERheSAoQERheXMpIHsKICAgICAgICAgICAgbXkgJUhhc2ggPSAleyAkU3RhdGVEYXRleyREYXl9IH07CiAgICAgICAgICAgIHB1c2goIEBSb3csICRIYXNoeyRTdGF0ZUlEfSApOwogICAgICAgIH0KICAgICAgICBwdXNoKCBARGF0YSwgXEBSb3cgKTsKICAgIH0KICAgIHJldHVybiAoIFskVGl0bGVdLCBbICdEYXlzJywgQERheXMgXSwgQERhdGEgKTsKCiAgICAjICAgIHJldHVybiAoWyRUaXRsZV0sW0BQb3NzaWJsZVN0YXRlc10sIFs0LDEsMiw4XSwgWzQsMSwyLDZdLCBbMjQsMTEsNywyXSwgWzEsMjMsNCw2XSk7Cn0KCnN1YiBfR2V0SGlzdG9yeVR5cGVzIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgbXkgJVN0YXRzOwogICAgbXkgJFNRTCA9ICJTRUxFQ1QgaWQsIG5hbWUgRlJPTSB0aWNrZXRfaGlzdG9yeV90eXBlICIgLiAiIFdIRVJFICIgLiAiIHZhbGlkX2lkID0gMSI7CiAgICAkU2VsZi0+e0RCT2JqZWN0fS0+UHJlcGFyZSggU1FMID0+ICRTUUwgKTsKICAgIHdoaWxlICggbXkgQFJvd1RtcCA9ICRTZWxmLT57REJPYmplY3R9LT5GZXRjaHJvd0FycmF5KCkgKSB7CiAgICAgICAgJFN0YXRzeyAkUm93VG1wWzBdIH0gPSAkUm93VG1wWzFdOwogICAgfQogICAgcmV0dXJuICVTdGF0czsKfQoKc3ViIF9HZXREQkRhdGFQZXJEYXkgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBteSAkRGF5RGF0YSA9IDA7CiAgICBteSAkU1FMCiAgICAgICAgPSAiU0VMRUNUIGNvdW50KCopIEZST00gdGlja2V0X2hpc3RvcnkgIgogICAgICAgIC4gIiBXSEVSRSAiCiAgICAgICAgLiAiIGhpc3RvcnlfdHlwZV9pZCA9ICRQYXJhbXtTdGF0ZUlEfSAiIC4gIiBBTkQgIgogICAgICAgIC4gIiBjcmVhdGVfdGltZSA+PSAnJFBhcmFte1llYXJ9LSRQYXJhbXtNb250aH0tJFBhcmFte0RheX0gMDA6MDA6MDEnIiAuICIgQU5EICIKICAgICAgICAuICIgY3JlYXRlX3RpbWUgPD0gJyRQYXJhbXtZZWFyfS0kUGFyYW17TW9udGh9LSRQYXJhbXtEYXl9IDIzOjU5OjU5JyI7CiAgICAkU2VsZi0+e0RCT2JqZWN0fS0+UHJlcGFyZSggU1FMID0+ICRTUUwgKTsKICAgIHdoaWxlICggbXkgQFJvdyA9ICRTZWxmLT57REJPYmplY3R9LT5GZXRjaHJvd0FycmF5KCkgKSB7CiAgICAgICAgJERheURhdGEgPSAkUm93WzBdOwogICAgfQogICAgcmV0dXJuICREYXlEYXRhOwp9CjE7Cg==</File>
<Format>Print</Format>
<Object></Object>
<ObjectModule>Kernel::System::Stats::Static::StateAction</ObjectModule>
<Permission>stats</Permission>
<StatType>static</StatType>
<SumCol>1</SumCol>
<SumRow>1</SumRow>
<Title>Changes of status in a monthly overview</Title>
<Valid>1</Valid>
</otrs_stats>
